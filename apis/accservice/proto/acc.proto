syntax = "proto3";

package proto;
option go_package = "./proto";

service Acc {
  rpc ViaToken(Token) returns (UUIDPWD);
  rpc GetProfSumms(UUIDS) returns (ProfSumms);
  rpc GetProfile(UUID) returns (Profile);
  rpc UpdateContact(UpdateContect) returns (EmptyRespone);
  rpc GetContact(UUID) returns (ContactInfo);
  rpc BindAccount(BindReq) returns (Token);
  rpc ViaAdmin(ViaAdminReq) returns (EmptyRespone);
}

message Token { string token = 1; }

message UUIDPWD { 
  string uuid = 1;
  string pwd =2;
 }

message UUID { string uuid = 1; }

message UUIDS { repeated string uuids = 1; }

message EmptyRespone {}

message ProfSumm {
  string uuid = 1;
  int64 sex = 2;
  string nickname = 3;
  string heardurl = 4;
}

message ProfSumms { repeated ProfSumm profsumms = 1; }

message Profile {
  string uuid = 1;
  string nickname = 2;
  string heardurl = 3;
  int64 sex = 4;
  string birthday = 5;
  bool isverify = 6;
}

message ContactInfo {
  string contact = 1;
  string email = 2;
  string phone = 3;
}

message UpdateContect {
  string contact = 1;
  string email = 2;
  string phone = 3;
  string uuid = 4;
}

message BindReq {
  string uuid = 1;
  string unionid = 2;
  string email = 3;
  string pwd = 4;
}

message ViaAdminReq {
  string uuid = 1;
  string md5pwd = 2;
  string unionid = 3;
}